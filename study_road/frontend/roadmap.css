:root{
  /* 茶叶×计算机配色主题 - 增强茶绿元素 */
  --bg:#eff5f0;
  --card:#fafff7;
  --accent:#6b8e5f;
  --accent-2:#8ba882;
  --text:#2d3e2d;
  --muted:#5a6c5a;
  --yellow:#e8f5d3;
  --tea-green:#5d8c61;
  --tea-light:#a8d5a3;
  --tea-dark:#3d5a3a;
  --code-bg:#2e2e2e;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  background-image: 
    repeating-linear-gradient(90deg, transparent, transparent 49px, rgba(93,142,97,.05) 49px, rgba(93,142,97,.05) 50px),
    repeating-linear-gradient(0deg, transparent, transparent 49px, rgba(93,142,97,.05) 49px, rgba(93,142,97,.05) 50px);
  color:var(--text);
  font:15px/1.5 'Segoe UI',system-ui,-apple-system,Roboto,Helvetica,Arial,sans-serif;
}
.header{
  position:sticky;top:0;z-index:5;
  display:flex;align-items:center;justify-content:space-between;
  padding:16px 24px;
  background:linear-gradient(180deg, #fafff7, rgba(250,255,247,.94));
  border-bottom:3px solid var(--accent);
  box-shadow:0 3px 10px rgba(93,142,97,.12);
}
.title{font-weight:700;letter-spacing:.3px; font-family:'Courier New',Consolas,monospace; color:var(--tea-dark); font-size:18px}
.subtitle{color:var(--muted); font-size:14px}

main{ padding:0; margin:20px 0 0; width:100% }
.stage{ position:relative; background:var(--card); border:2px solid var(--accent); border-radius:12px; padding:20px 24px; box-shadow:0 4px 12px rgba(93,142,97,.12); margin-top:20px }
.stage::after{
  content:'';
  position:absolute;
  top:8px; right:8px;
  width:40px; height:40px;
  background:url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"%3E%3Cpath d="M20 5 Q13 12 20 20 Q27 12 20 5z M12 15 Q10 20 12 25 M20 13 Q18 18 20 23 M28 15 Q30 20 28 25" fill="none" stroke="%235d8c61" stroke-width="1.5" opacity="0.15"/%3E%3Cellipse cx="20" cy="22" rx="15" ry="8" fill="%238ba882" opacity="0.08"/%3E%3C/svg%3E') center/contain no-repeat;
  opacity:0.4;
  pointer-events:none;
}
.stage > h2{ margin:0 0 20px; font-size:20px; font-weight:600; color:var(--tea-dark); font-family:'Courier New',Consolas,monospace; position:relative; z-index:1 }
.tree{width:100%; background:transparent; overflow:visible; min-height:256px}

/* 每个阶段根据内容密度设置不同高度占比，已调整为原来的80% */
#tree-1{ min-height:230px }
#tree-2{ min-height:333px }
#tree-3{ min-height:333px }
#tree-4{ min-height:230px }
#tree-5{ min-height:192px }

@media (max-width: 960px){
  main{ padding:12px }
  .stage{ padding:12px 12px }
  #tree-1{ min-height:269px }
  #tree-2{ min-height:371px }
  #tree-3{ min-height:371px }
  #tree-4{ min-height:256px }
  #tree-5{ min-height:218px }
}

/* Treant overrides for a clean look */
.Treant > .node{ padding:12px 16px; border-radius:10px; border:2px solid var(--accent); background:var(--card); box-shadow:0 2px 4px rgba(93,142,97,.1)}
.Treant > .node.root{ background:linear-gradient(135deg, #d5f0d0, #e8f5d3); border-color:var(--tea-green); font-family:'Courier New',Consolas,monospace; font-size:16px }
.Treant > .node.yellow{ background:linear-gradient(135deg, #e8f5d3, #f0fae8); border-color:var(--accent); font-size:15px }
.Treant > .node.small{ font-size:14px }
.Treant > .node.brown{ background:linear-gradient(135deg, #f8fdf6, #fff); border-color:var(--accent-2); font-size:14px }
.Treant > .node:hover{ box-shadow:0 4px 10px rgba(93,142,97,.2); transform:translateY(-2px) }
.Treant .collapse-switch{ width:10px; height:10px; border-radius:50%; background:var(--tea-green); box-shadow:0 0 0 2px var(--card);}
.Treant .connector{ stroke:var(--accent-2); stroke-width:2px }
.Treant .connector.endpoint{ fill:var(--accent-2) }

/* ---------- 页面新增模块样式 ---------- */
.hero{ 
  position:relative;
  padding:60px 20px 60px;
  background:linear-gradient(135deg, #d5f0d0, #e8f5d3); 
  overflow:hidden;
  min-height:100vh;
}
.hero::before{
  content:'';
  position:absolute;
  top:-20px; right:-20px;
  width:120px; height:120px;
  background:url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"%3E%3Cpath d="M50 10 Q30 30 50 50 Q70 30 50 10z M35 40 Q30 50 35 60 M50 35 Q45 45 50 55 M65 40 Q70 50 65 60" fill="none" stroke="%235d8c61" stroke-width="2" opacity="0.15"/%3E%3Cellipse cx="50" cy="50" rx="35" ry="20" fill="%238ba882" opacity="0.1"/%3E%3C/svg%3E') center/contain no-repeat;
  opacity:0.4;
  pointer-events:none;
}
.hero-content{ max-width:1200px; margin:0 auto; position:relative; z-index:1; text-align:center }
.hero-title{ margin:0 0 30px; font-size:48px; color:var(--tea-dark); font-family:'Courier New',Consolas,monospace; letter-spacing:5px; font-weight:700 }
.plan{ position:relative; background:var(--card); border:2px solid var(--accent); border-radius:10px; padding:14px 16px; box-shadow:0 3px 10px rgba(93,142,97,.15); margin:12px 0 16px; overflow:hidden }
.plan::after{
  content:'';
  position:absolute;
  bottom:-10px; left:-10px;
  width:60px; height:60px;
  background:url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"%3E%3Cpath d="M30 5 Q20 15 30 25 Q40 15 30 5z M20 18 Q18 23 20 28 M30 16 Q28 21 30 26" fill="none" stroke="%235d8c61" stroke-width="1.5" opacity="0.2"/%3E%3C/svg%3E') center/contain no-repeat;
  opacity:0.3;
  pointer-events:none;
}
.plan-title{ font-weight:700; margin-bottom:10px; color:var(--tea-dark); font-family:'Courier New',Consolas,monospace; font-size:16px }
.plan ul{ margin:0; padding-left:20px; color:var(--text) }
.plan li{ margin:5px 0; font-size:15px }

.cards{ display:grid; grid-template-columns: repeat(5, 1fr); gap:12px; max-width:900px; margin:0 auto }
.card-btn{ 
  position:relative;
  appearance:none; 
  border:2px solid var(--accent); 
  background:linear-gradient(135deg, var(--card), #f0f9ed); 
  border-radius:10px; 
  padding:12px 10px; 
  cursor:pointer; 
  text-align:center; 
  font-weight:600; 
  color:var(--tea-dark); 
  box-shadow:0 2px 4px rgba(93,142,97,.08); 
  transition:all .3s cubic-bezier(0.4, 0, 0.2, 1);
  font-family:'Segoe UI',system-ui,-apple-system,sans-serif;
  letter-spacing:.2px;
  font-size:12px;
  line-height:1.3;
  overflow:visible;
  min-height:55px;
  display:flex;
  align-items:center;
  justify-content:center;
}
.card-btn::before{
  content:'';
  position:absolute;
  top:4px; right:4px;
  width:14px; height:14px;
  background:url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"%3E%3Cpath d="M10 2 Q7 6 10 10 Q13 6 10 2z" fill="none" stroke="%235d8c61" stroke-width="1.2" opacity="0.35"/%3E%3C/svg%3E') center/contain no-repeat;
  opacity:0.3;
  transition:opacity .3s ease;
}
.card-btn::after{
  content:'';
  position:absolute;
  bottom:-12px;
  left:50%;
  transform:translateX(-50%);
  width:0;
  height:0;
  border-left:8px solid transparent;
  border-right:8px solid transparent;
  border-bottom:10px solid var(--card);
  opacity:0;
  transition:opacity .3s ease, transform .3s ease;
  filter:drop-shadow(0 -2px 3px rgba(93,142,97,.15));
  z-index:5;
}
.card-btn:nth-child(2){ background:linear-gradient(180deg, var(--card), #f0f9ed) }
.card-btn:nth-child(3){ background:linear-gradient(45deg, var(--card), #f0f9ed) }
.card-btn:nth-child(4){ background:linear-gradient(90deg, var(--card), #f0f9ed) }
.card-btn:nth-child(5){ background:linear-gradient(225deg, var(--card), #f0f9ed) }
.card-btn:hover{ 
  transform:translateY(-6px) scale(1.08); 
  box-shadow:0 16px 32px rgba(93,142,97,.28), 0 0 0 3px rgba(93,142,97,.15); 
  background:linear-gradient(135deg, var(--tea-light), var(--yellow));
  border-color:var(--tea-green);
  z-index:10;
}
.card-btn:hover::before{ opacity:0.6 }
.card-btn:active{ transform:translateY(-4px) scale(1.05) }
.card-btn.active{ 
  background:linear-gradient(135deg, var(--tea-green), var(--tea-light)); 
  color:#fff; 
  border-color:var(--tea-dark);
  box-shadow:0 4px 12px rgba(93,142,97,.25);
  transform:translateY(-2px);
}
.card-btn.active::before{ opacity:0.7; filter:brightness(1.5) }
.card-btn.active::after{ opacity:1; transform:translateX(-50%) translateY(2px) }

@media (max-width: 1024px){
  .hero{ padding:30px 20px 24px }
  .hero-title{ font-size:38px; letter-spacing:3px; margin-bottom:24px }
  .cards{ grid-template-columns: repeat(3, 1fr); gap:10px }
  .card-btn{ padding:10px 8px; font-size:11px; min-height:50px }
  .card-btn:hover{ transform:translateY(-4px) scale(1.05) }
}
@media (max-width: 640px){
  .hero{ padding:24px 16px 20px }
  .hero-title{ font-size:28px; letter-spacing:2px; margin-bottom:20px }
  .cards{ grid-template-columns: 1fr; gap:10px; max-width:320px }
  .card-btn{ padding:10px 10px; font-size:12px; min-height:48px }
  .card-btn:hover{ transform:translateY(-3px) scale(1.03) }
}

/* FAQ区域 */
.faq{ 
  max-width:1000px; 
  margin:40px auto 0; 
  padding:40px 20px 60px;
}

.faq h2{ 
  font-size:24px; 
  margin:0 0 24px; 
  color:var(--tea-dark); 
  font-family:'Segoe UI',system-ui,-apple-system,sans-serif;
  font-weight:700;
  text-align:center;
}

.faq-item{ 
  border:1px solid rgba(93,142,97,0.2); 
  border-radius:8px; 
  background:var(--card); 
  margin:12px 0; 
  overflow:hidden; 
  box-shadow:0 2px 6px rgba(93,142,97,.08);
  transition:all 0.3s ease;
}

.faq-item:hover{
  box-shadow:0 4px 12px rgba(93,142,97,.15);
  border-color:rgba(93,142,97,0.3);
}

.faq-q{ 
  width:100%; 
  text-align:left; 
  background:transparent; 
  padding:16px 48px 16px 20px; 
  border:0; 
  font-weight:600; 
  color:var(--tea-dark); 
  cursor:pointer; 
  font-size:16px;
  font-family:'Segoe UI',system-ui,-apple-system,sans-serif;
  transition:all 0.3s ease;
  position:relative;
  display:flex;
  align-items:center;
  line-height:1.5;
}

/* 展开/折叠箭头 */
.faq-q::after{
  content:'';
  position:absolute;
  right:20px;
  top:50%;
  transform:translateY(-50%) rotate(45deg);
  width:10px;
  height:10px;
  border-right:2px solid var(--tea-green);
  border-bottom:2px solid var(--tea-green);
  transition:transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.faq-q:hover{
  background:rgba(213, 240, 208, 0.2);
}

.faq-q[aria-expanded="true"]{ 
  background:rgba(213, 240, 208, 0.3);
  border-bottom:1px solid rgba(93,142,97,0.15);
}

.faq-q[aria-expanded="true"]::after{
  transform:translateY(-50%) rotate(-135deg);
}

.faq-a{ 
  padding:20px; 
  color:var(--text); 
  display:none; 
  font-size:15px;
  line-height:1.8;
  animation:fadeIn 0.3s ease-out;
}

.faq-item.open .faq-a{ 
  display:block;
}

/* FAQ内容样式 */
.faq-a p{
  margin:0 0 16px;
  color:var(--text);
}

.faq-a strong,
.faq-a b{
  color:var(--tea-dark);
  font-weight:600;
}

.faq-a ol,
.faq-a ul{
  margin:12px 0;
  padding-left:24px;
}

.faq-a li{
  margin:10px 0;
  line-height:1.8;
}

.faq-a li strong{
  display:inline-block;
  margin-right:4px;
}

.faq-a code{
  background:rgba(93,142,97,0.1);
  color:var(--tea-green);
  padding:2px 6px;
  border-radius:4px;
  font-family:'Courier New',Consolas,monospace;
  font-size:14px;
}

.faq-a a{
  color:var(--tea-green);
  text-decoration:none;
  border-bottom:1px solid rgba(93,142,97,0.3);
  transition:all 0.3s ease;
}

.faq-a a:hover{
  color:var(--tea-dark);
  border-bottom-color:var(--tea-dark);
}

@keyframes fadeIn{
  from{
    opacity:0;
    transform:translateY(-5px);
  }
  to{
    opacity:1;
    transform:translateY(0);
  }
}

/* reveal 进场动画与高亮 - 错开延迟 */
.reveal{ opacity:0; transform:translateY(10px); transition:opacity .4s ease, transform .4s ease }
.reveal.in{ opacity:1; transform:none }
.hero.reveal{ transition-delay:0.1s }
.faq.reveal{ transition-delay:0.2s }
#stage-1.reveal{ transition-delay:0.15s }
#stage-2.reveal{ transition-delay:0.25s }
#stage-3.reveal{ transition-delay:0.35s }
#stage-4.reveal{ transition-delay:0.45s }
#stage-5.reveal{ transition-delay:0.55s }
.stage:target{ outline:3px solid var(--accent); box-shadow:0 0 0 6px rgba(93,142,97,.15) }

/* Smooth pan scroll for wide trees */
body, .tree{ overflow:auto; scroll-behavior:smooth }

/* 字体与间距的细节优化 */
.Treant .node .node-name{ font-weight:600 }
.Treant .node{ line-height:1.4 }

/* 视觉层级与动画增强 */
.Treant > .node{ color:var(--text); transition:transform .2s ease, box-shadow .2s ease, background-color .2s ease }
.Treant > .node.root{ color:var(--tea-dark); font-weight:700 }
.Treant > .node.yellow{ color:#4a6b43; font-weight:600 }
.Treant > .node.brown{ color:var(--muted) }
code, pre{ background:var(--code-bg); color:#a8d5a3; padding:2px 6px; border-radius:4px; font-family:'Courier New',Consolas,monospace; font-size:13px }
pre{ padding:12px; overflow-x:auto; margin:8px 0 }
.Treant > .node:hover{ transform:translateY(-1px) }

@keyframes nodeFadeIn{ from{ opacity:0; transform:translateY(4px) } to{ opacity:1; transform:none } }
.Treant .node{ animation: nodeFadeIn .35s ease both }

/* 折叠/展开开关优化 */
.Treant .collapse-switch{ width:12px; height:12px; background:linear-gradient(180deg, var(--tea-green), var(--accent)); box-shadow:0 0 0 2px var(--card), 0 2px 4px rgba(93,78,55,.2) }
.Treant .collapse-switch:hover{ filter:brightness(1.05) }

